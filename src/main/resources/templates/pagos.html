<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Clientes</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
        <link rel="stylesheet" href="../css/shards.min.css">  
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    	
    	<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
    	<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
   	 	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
   		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    </head>
    <body  style="background-color:#F9F7F7">    
    <div class="col-sm">
	<img src="https://i.ibb.co/3S5nHTM/uce.png" align="left" WIDTH=100 HEIGHT=100>
	<img src="https://i.ibb.co/dfCWX2k/uce1.png" align="right" WIDTH=100 HEIGHT=50></div>
    <h1 style="text-align:center">BIENVENIDO AL SISTEMA DE TURISMO UCE.</h1>
    	<center><img src="https://i.ibb.co/Bz2FKPY/monedas.jpg" WIDTH=700 HEIGHT=400></center>
        <div th:switch="${clientes}" class="col-sm-6">
            <div class="row">
                <div class="col-md-8">          
                    <div th:case="*">
                     <h2 class="my-5" style="color:#3e5f8a">Registro y Actualizacion de Pagos<img src="img/Listar.JPG" WIDTH=40 HEIGHT=40></h2>                
                     <div class="form-group col-md-7"><i class="fa fa-search"></i>
                    <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Busqueda por Número de Contrato..." title="Busqueda Rapida por Número de Contrato" class="form-control" style="color:blue; border:3px solid green">
                    </div>                                                                                                               
                    <table id=pago class="table table-striped table-responsive-md table-hover" style="color:#3e5f8a">                         
                            <thead>                               
                                <tr>
                                    <th>Numero_de_Contrato</th>
                                    <th>Valor_Contrato</th>
                                    <th>Pago_1</th>
                                    <th>Fecha_pago_1</th>
                                    <th>Pago_2</th>
                                    <th>Fecha_pago_2</th>
                                    <th>Pago_3</th>
                                    <th>Fecha_pago_3</th>
                                    <th>Pago_4</th>
                                    <th>Fecha_pago_4</th>
                                    <th>Pago_5</th>
                                    <th>Fecha_pago_5</th>
                                    <th>Pago_6</th>
                                    <th>Fecha_pago_6</th>
                                    <th>Pago_7</th>
                                    <th>Fecha_pago_7</th>
                                    <th>Pago_8</th>
                                    <th>Fecha_pago_8</th>
                                    <th>Pago_9</th>
                                    <th>Fecha_pago_9</th>
                                    <th>Pago_10</th>
                                    <th>Fecha_pago_10</th>  
                                    <th>Agregar_pago</th>                                         
                                </tr>
                            </thead>
                            <tbody>
                                <tr  th:each="cliente : ${clientes}">                               
                                    <td th:text="${cliente.contrato}"></td>
                                    <td th:text="${cliente.valorcontrato}"></td> 
                                    <td th:text="${cliente.pago1}"></td>
                                    <td th:text="${cliente.fecha1}"></td>
                                    <td th:text="${cliente.pago2}"></td>
                                    <td th:text="${cliente.fecha2}"></td>
                                    <td th:text="${cliente.pago3}"></td>
                                    <td th:text="${cliente.fecha3}"></td>
                                    <td th:text="${cliente.pago4}"></td>
                                    <td th:text="${cliente.fecha4}"></td>
                                    <td th:text="${cliente.pago5}"></td>
                                    <td th:text="${cliente.fecha5}"></td>
                                    <td th:text="${cliente.pago6}"></td>
                                    <td th:text="${cliente.fecha6}"></td>
                                    <td th:text="${cliente.pago7}"></td>
                                    <td th:text="${cliente.fecha7}"></td>
                                    <td th:text="${cliente.pago8}"></td>
                                    <td th:text="${cliente.fecha8}"></td>
                                    <td th:text="${cliente.pago9}"></td>
                                    <td th:text="${cliente.fecha9}"></td>
                                    <td th:text="${cliente.pago10}"></td>
                                    <td th:text="${cliente.fecha10}"></td>
                                    <td><a th:href="@{/edit1/{id}(id=${cliente.id})}" class="btn btn-primary" title="Añadir Pago"><i class="fas fa-plus"></i></a></td>                                                                       
                                </tr>
                            </tbody>
                            <tfoot class="thead-dark">
            					<tr>
                					<th>Numero_de_Contrato</th>
                                    <th>Valor_Contrato</th>
                                    <th>Pago_1</th>
                                    <th>Fecha_pago_1</th>
                                    <th>Pago_2</th>
                                    <th>Fecha_pago_2</th>
                                    <th>Pago_3</th>
                                    <th>Fecha_pago_3</th>
                                    <th>Pago_4</th>
                                    <th>Fecha_pago_4</th>
                                    <th>Pago_5</th>
                                    <th>Fecha_pago_5</th>
                                    <th>Pago_6</th>
                                    <th>Fecha_pago_6</th>
                                    <th>Pago_7</th>
                                    <th>Fecha_pago_7</th>
                                    <th>Pago_8</th>
                                    <th>Fecha_pago_8</th>
                                    <th>Pago_9</th>
                                    <th>Fecha_pago_9</th>
                                    <th>Pago_10</th>
                                    <th>Fecha_pago_10</th>  
                                    <th>Agregar_pago</th>                                  
            					</tr>
        					</tfoot>
                   </table>                           
 <script>
 function myFunction() {
  var input, filter, table, tr, td, i;
  input = document.getElementById("myInput");
  filter = input.value.toUpperCase();
  table = document.getElementById("pago");
  tr = table.getElementsByTagName("tr");
  for (i = 0; i < tr.length; i++) {
  td = tr[i].getElementsByTagName("td")[0];
   if (td) {
     if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else {
       tr[i].style.display = "none";
     }
    }       
  }
}
</script>  
 <br>
 <h2 class="my-5" style="color:#3e5f8a">Resumen total Pagos<img src="img/Listar.JPG" WIDTH=40 HEIGHT=40></h2>
<div class="col-md-12">
 <table id="tabla5" class="table table-striped table-responsive-md table-hover" style="color:#3e5f8a "> 
    <thead>
    <tr class="encabezado">
      <th>Contratos</th>
      <th th:each="cliente : ${clientes}" th:text="${cliente.contrato}">
    </tr>
    <tr>
      <td>Cuota Inical</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.cuotaunica}">
    </tr>
    <tr>
      <td>PAGO1</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago1}">
    </tr>
    <tr>
      <td>PAGO2</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago2}">
    </tr>
    <tr>
      <td>PAGO3</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago3}">
    </tr>
    <tr>
      <td>PAGO4</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago4}">
    </tr>
    <tr>
      <td>PAGO5</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago5}">
    </tr>
    <tr>
      <td>PAGO6</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago6}">
    </tr>
    <tr>
      <td>PAGO7</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago7}">
    </tr>
    <tr>
     <td>PAGO8</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago8}">
    </tr>
    <tr>
     <td>PAGO9</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago9}">
    </tr>
    <tr>
     <td>PAGO10</td> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.pago10}">
    </tr>
    <tr class="total" bgcolor="#C8BCB9">
      <td>Total:</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>     
    </tr>
  </thead>
  <tfoot class="thead-dark">
    <tr>
    	<th>Contratos</th>
        <th th:each="cliente : ${clientes}" th:text="${cliente.contrato}">                                   
	</tr>
  </tfoot>
</table>
<script>
$(document).ready(function() {

 CalcularTotal();

});
function CalcularTotal()
{
var totals = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
 var $filas= $("#tabla5 tr:not('.total, .encabezado')");

  $filas.each(function() {
    $(this).find('td').each(function(i) {
      if (i != 0)
        totals[i - 1] += parseInt($(this).html());
    });
  });
  $(".total td").each(function(i) {
    if (i != 0)
      $(this).html(totals[i - 1]);
  });
}
</script> 
 </div>
<h2 class="my-5" style="color:#3e5f8a">Valor Contratos<img src="img/Listar.JPG" WIDTH=40 HEIGHT=40></h2>
<div class="col-md-12"> 
  <table id=tabla class="table table-striped table-responsive-md table-hover" style="color:#3e5f8a">
  <tr>
    <th>Contrato:</th> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.contrato}">                          
  </tr>      
  <tr>
    <th>Valor_Contrato:</th> 
    <td th:each="cliente : ${clientes}" th:text="${cliente.valorcontrato}">                          
  </tr>
</table>
 </div>
 </div>      
            <p class="my-5">
            <a class="btn btn-success" href="/home/home">Inicio<i class="fa fa-home ml-2"></i></a></p>                   
            <a th:href="@{/logout}"><button class="btn btn-danger"><strong>Cerrar Sesión</strong><i class="fa fa-close ml-2"></i></button></a>
              <br></br>
          </div>
          </div>
          <h6 style="color:black"><span style="background-color:orange"> Para más información, consulte el:</span>
		  <a href="http://uce.edu.ec/" charset="ISO-8859-1" style="color:blue"><strong>"Sitio web UCE"</strong></a></h6>				
        	 <STYLE type="text/css">
  			 H6.creditos {text-align: left}
 			 </STYLE>
 				<img src="img/avion.gif" align="right" WIDTH=120 HEIGHT=94>	
 				<H6 class="creditos"> Es un placer atenderlos </H6>
 				<H6 class="creditos">Tutor: Dr. Santiago Morales</H6> 
        		<H6 class="creditos" style="color:#5e2129"><strong>Contact App Developer: jlonac@uce.edu.ec</strong></H6>
          </div>  
    </body>
</html>